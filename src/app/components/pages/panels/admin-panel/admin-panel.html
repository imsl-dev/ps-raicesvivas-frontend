<div class="admin-container">
    <!-- Bot√≥n para mostrar sidebar en m√≥vil -->
    <button class="btn-toggle-sidebar" (click)="toggleSidebar()">
        @if (!mostrarSidebar) {
        <span>üìã Men√∫ Admin</span>
        }
        @if (mostrarSidebar) {
        <span>‚úñ Cerrar Men√∫</span>
        }
    </button>

    <div class="layout-container">
        <!-- Sidebar de navegaci√≥n -->
        <aside class="admin-sidebar" [class.active]="mostrarSidebar">
            <div class="sidebar-header">
                <h3>‚öôÔ∏è Panel de Administraci√≥n</h3>
            </div>

            <nav class="sidebar-nav">
                <button class="nav-item" [class.active]="isSelected('peticiones')" (click)="selectOption('peticiones')">
                    <span class="nav-icon">üìù</span>
                    <span class="nav-text">Peticiones de Organizadores</span>
                </button>

                <button class="nav-item" [class.active]="isSelected('permisos')" (click)="selectOption('permisos')">
                    <span class="nav-icon">üîê</span>
                    <span class="nav-text">Gesti√≥n de Permisos</span>
                </button>

                <button class="nav-item" [class.active]="isSelected('canjeables')" (click)="selectOption('canjeables')">
                    <span class="nav-icon">‚≠ê</span>
                    <span class="nav-text">Gesti√≥n de Canjeables</span>
                </button>

                <button class="nav-item" [class.active]="isSelected('sponsors')" (click)="selectOption('sponsors')">
                    <span class="nav-icon">‚Ñ¢Ô∏è</span>
                    <span class="nav-text">Gesti√≥n de Sponsors</span>
                </button>

                <button class="nav-item" [class.active]="isSelected('reportes')" (click)="selectOption('reportes')">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Reportes</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                @if (usuarioLogeado) {
                <div class="user-info">
                    <p class="user-name">{{ usuarioLogeado.nombre }} {{ usuarioLogeado.apellido }}</p>
                    <p class="user-role">{{ usuarioLogeado.rol }}</p>
                </div>
                }
            </div>
        </aside>

        <!-- Contenido principal -->
        <main class="admin-main">
            @if (selectedOption === 'peticiones') {
            <app-gestion-peticiones />
            }

            @if (selectedOption === 'permisos') {
            <app-gestion-roles />
            }

            @if (selectedOption === 'canjeables') {
            <app-gestion-canjeables />
            }

            @if (selectedOption === 'reportes') {
            <app-reportes-admin></app-reportes-admin>
            }

            @if (selectedOption === 'sponsors') {
            @if (showSponsorForm) {
            <app-sponsor-form-admin [sponsorId]="sponsorFormId" [action]="sponsorFormAction"
                (formClosed)="handleSponsorFormClose($event)" />
            } @else {
            <app-lista-sponsors [isAdminPanel]="true" (sponsorActionRequested)="handleSponsorAction($event)" />
            }
            }
        </main>
    </div>
</div>